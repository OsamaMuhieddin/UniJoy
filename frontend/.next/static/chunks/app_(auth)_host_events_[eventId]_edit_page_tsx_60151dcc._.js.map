{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abdalmoute/OneDrive/Desktop/university%20events%20planner/frontend/app/%28auth%29/host/events/%5BeventId%5D/edit/page.tsx"],"sourcesContent":["// app/(auth)/host/events/[eventId]/edit/page.tsx\r\n\r\n\"use client\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { CalendarIcon, MapPin, Ticket, Image as ImageIcon } from \"lucide-react\";\r\nimport {\r\n    Form,\r\n    FormControl,\r\n    FormField,\r\n    FormItem,\r\n    FormLabel,\r\n    FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { format } from \"date-fns\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst eventSchema = z.object({\r\n    // نفس schema صفحة الإنشاء\r\n});\r\n\r\nexport default function EditEventPage() {\r\n    const { toast } = useToast();\r\n    const { eventId } = useParams();\r\n    const router = useRouter();\r\n    const [eventData, setEventData] = useState(null);\r\n\r\n    const form = useForm<z.infer<typeof eventSchema>>({\r\n        resolver: zodResolver(eventSchema),\r\n        defaultValues: {\r\n            // القيم الافتراضية من البيانات المسترجعة\r\n        },\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchEvent = async () => {\r\n            try {\r\n                const response = await fetch(`/api/events/${eventId}`);\r\n                const data = await response.json();\r\n                setEventData(data);\r\n                form.reset(data);\r\n            } catch (error) {\r\n                toast({\r\n                    variant: \"destructive\",\r\n                    title: \"خطأ!\",\r\n                    description: \"حدث خطأ أثناء جلب البيانات ، تعذر الاتصال بالسيرفر حاول مرة أخرى.\",\r\n                });\r\n            }\r\n        };\r\n        fetchEvent();\r\n    }, [eventId]);\r\n\r\n    const onSubmit = async (values: z.infer<typeof eventSchema>) => {\r\n        try {\r\n            const response = await fetch(`/api/events/${eventId}`, {\r\n                method: 'PUT',\r\n                body: JSON.stringify(values),\r\n            });\r\n            if (!response.ok) throw new Error('فشل في التحديث');\r\n            toast({\r\n                title: \"Login Successful\",\r\n                description: \"You have been logged in successfully\",\r\n                duration: 3000,\r\n                className: \"bg-green-600 text-white border-0\",\r\n            });\r\n\r\n            router.push('/host/events');\r\n        } catch (error) {\r\n            toast({\r\n                title: \"Login Failed\",\r\n                description: \"Invalid email or password\",\r\n                variant: \"destructive\"\r\n            });\r\n        }\r\n    };\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"max-w-4xl mx-auto p-6\"\r\n        >\r\n\r\n        </motion.div>\r\n    );\r\n}"],"names":[],"mappings":"AAAA,iDAAiD;;;;;AAGjD;AACA;AACA;AACA;AAmBA;AACA;AACA;;;AAzBA;;;;;;;;AA2BA,MAAM,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;AAE7B;AAEe,SAAS;;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAC5B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,OAAO,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAA+B;QAC9C,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;QAEf;IACJ;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACN,MAAM;sDAAa;oBACf,IAAI;wBACA,MAAM,WAAW,MAAM,MAAM,CAAC,YAAY,EAAE,SAAS;wBACrD,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,aAAa;wBACb,KAAK,KAAK,CAAC;oBACf,EAAE,OAAO,OAAO;wBACZ,MAAM;4BACF,SAAS;4BACT,OAAO;4BACP,aAAa;wBACjB;oBACJ;gBACJ;;YACA;QACJ;kCAAG;QAAC;KAAQ;IAEZ,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,CAAC,YAAY,EAAE,SAAS,EAAE;gBACnD,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YACA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAClC,MAAM;gBACF,OAAO;gBACP,aAAa;gBACb,UAAU;gBACV,WAAW;YACf;YAEA,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,MAAM;gBACF,OAAO;gBACP,aAAa;gBACb,SAAS;YACb;QACJ;IACJ;IACA,qBACI,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACP,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;QACtB,WAAU;;;;;;AAKtB;GA/DwB;;QACF,wHAAA,CAAA,WAAQ;QACN,qIAAA,CAAA,YAAS;QACd,qIAAA,CAAA,YAAS;QAGX,iKAAA,CAAA,UAAO;;;KANA","debugId":null}}]
}