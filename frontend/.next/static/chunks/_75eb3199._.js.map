{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abdalmoute/OneDrive/Desktop/university%20events%20planner/frontend/hooks/useAuthAdmin.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function useAuthAdmin() {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const checkAuthAdmin = async () => {\r\n            try {\r\n                const response = await fetch(\"http://localhost:5000/api/check-admin\", {\r\n                    method: \"GET\",\r\n                    credentials: \"include\",\r\n                });\r\n\r\n                const data = await response.json();\r\n\r\n                console.log(\"login admin:\", data.isAdmin);\r\n                setIsAdmin(data.isAdmin);\r\n\r\n                if (!data.isAdmin) {\r\n                    router.push(\"/admin\"); // توجيه المستخدم إلى صفحة تسجيل الدخول إذا لم يكن مسجلاً\r\n                }\r\n            } catch (error) {\r\n                console.error(\"خطأ في التحقق من الجلسة:\", error);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        checkAuthAdmin();\r\n    }, []);\r\n\r\n    return { isLoading, isAdmin };\r\n}"],"names":[],"mappings":";;;AAEA;AACA;;AAHA;;;AAKe,SAAS;;IACpB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACN,MAAM;yDAAiB;oBACnB,IAAI;wBACA,MAAM,WAAW,MAAM,MAAM,yCAAyC;4BAClE,QAAQ;4BACR,aAAa;wBACjB;wBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAEhC,QAAQ,GAAG,CAAC,gBAAgB,KAAK,OAAO;wBACxC,WAAW,KAAK,OAAO;wBAEvB,IAAI,CAAC,KAAK,OAAO,EAAE;4BACf,OAAO,IAAI,CAAC,WAAW,yDAAyD;wBACpF;oBACJ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,4BAA4B;oBAC9C,SAAU;wBACN,aAAa;oBACjB;gBACJ;;YAEA;QACJ;iCAAG,EAAE;IAEL,OAAO;QAAE;QAAW;IAAQ;AAChC;GAhCwB;;QAGL,qIAAA,CAAA,YAAS","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abdalmoute/OneDrive/Desktop/university%20events%20planner/frontend/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport useAuthAdmin from \"@/hooks/useAuthAdmin\";\r\nconst Dashboard = () => {\r\n    const { toast } = useToast();\r\n    const { isLoading, isAdmin } = useAuthAdmin();\r\n    const router = useRouter();\r\n    // إعادة توجيه المستخدم إذا لم يكن Admin\r\n    useEffect(() => {\r\n        if (!isAdmin && !isLoading) {\r\n            router.push(\"/auth/login\");\r\n            toast({\r\n                variant: \"destructive\",\r\n                title: \"خطأ!\",\r\n                description: \"انت لست مدير\",\r\n            });\r\n        }\r\n    }, [isLoading, isAdmin, router]);\r\n\r\n    return (\r\n        <>\r\n            {!isAdmin ? (\r\n                <p className=\"flex items-center justify-center my-36 text-lg font-semibold\">\r\n                    جارٍ التحقق من تسجيل الدخول...\r\n                </p>\r\n            ) : (\r\n                <div className=\"flex flex-col md:flex-row min-h-screen font-sans bg-gray-100\">\r\n\r\n                    {/* ✅ المحتوى الرئيسي */}\r\n                    <main className=\"flex-1 p-4 sm:p-6\">\r\n                        {/* ✅ بطاقات الإحصائيات */}\r\n                    </main>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Dashboard;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAKA,MAAM,YAAY;;IACd,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAY,AAAD;IAC1C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,wCAAwC;IACxC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACN,IAAI,CAAC,WAAW,CAAC,WAAW;gBACxB,OAAO,IAAI,CAAC;gBACZ,MAAM;oBACF,SAAS;oBACT,OAAO;oBACP,aAAa;gBACjB;YACJ;QACJ;8BAAG;QAAC;QAAW;QAAS;KAAO;IAE/B,qBACI;kBACK,CAAC,wBACE,6LAAC;YAAE,WAAU;sBAA+D;;;;;iCAI5E,6LAAC;YAAI,WAAU;sBAGX,cAAA,6LAAC;gBAAK,WAAU;;;;;;;;;;;;AAOpC;GAjCM;;QACgB,wHAAA,CAAA,WAAQ;QACK,wHAAA,CAAA,UAAY;QAC5B,qIAAA,CAAA,YAAS;;;KAHtB;uCAmCS","debugId":null}}]
}