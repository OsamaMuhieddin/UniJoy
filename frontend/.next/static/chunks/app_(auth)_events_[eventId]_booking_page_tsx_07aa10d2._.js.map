{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abdalmoute/OneDrive/Desktop/university%20events%20planner/frontend/app/%28auth%29/events/%5BeventId%5D/booking/page.tsx"],"sourcesContent":["'use client';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { useForm } from 'react-hook-form';\r\nimport { z } from 'zod';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { motion } from 'framer-motion';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\nconst bookingSchema = z.object({\r\n    fullName: z.string().min(3, 'Name must be at least 3 characters'),\r\n    email: z.string().email('Invalid email address'),\r\n    phone: z.string().min(10, 'Phone number is too short'),\r\n});\r\n\r\ntype BookingFormData = z.infer<typeof bookingSchema>;\r\n\r\nexport default function RegisterPage() {\r\n    const { toast } = useToast();\r\n    const { eventId } = useParams();\r\n    const router = useRouter();\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors, isSubmitting },\r\n    } = useForm<BookingFormData>({\r\n        resolver: zodResolver(bookingSchema),\r\n    });\r\n\r\n    const onSubmit = async (data: BookingFormData) => {\r\n        try {\r\n            const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/register`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ ...data, eventId }),\r\n            });\r\n\r\n            if (!res.ok) {\r\n                throw new Error('Booking failed');\r\n            }\r\n            toast({\r\n                title: \"Booking Successful\",\r\n                description: \"You have been Booking in successfully\",\r\n                duration: 3000,\r\n                className: \"bg-green-600 text-white border-0\",\r\n            });\r\n            router.push(`/user/bookings`);\r\n        } catch (error) {\r\n            toast({\r\n                title: error instanceof Error ? error.message : \"Booking Failed\",\r\n                description: 'Something went wrong!',\r\n                className: 'bg-red-500 text-white border-0',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            className=\"min-h-screen flex items-center justify-center bg-gradient-to-tr from-purple-100 to-white py-10 px-4\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n        >\r\n            <form\r\n                onSubmit={handleSubmit(onSubmit)}\r\n                className=\"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md\"\r\n            >\r\n                <h2 className=\"text-2xl font-bold text-center text-purple-700 mb-6\">Register Your Spot</h2>\r\n\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block font-medium\">Full Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            {...register('fullName')}\r\n                            className=\"w-full border border-gray-300 rounded-xl px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-purple-300\"\r\n                        />\r\n                        {errors.fullName && <p className=\"text-red-500 text-sm\">{errors.fullName.message}</p>}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block font-medium\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            {...register('email')}\r\n                            className=\"w-full border border-gray-300 rounded-xl px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-purple-300\"\r\n                        />\r\n                        {errors.email && <p className=\"text-red-500 text-sm\">{errors.email.message}</p>}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block font-medium\">Phone</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            {...register('phone')}\r\n                            className=\"w-full border border-gray-300 rounded-xl px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-purple-300\"\r\n                        />\r\n                        {errors.phone && <p className=\"text-red-500 text-sm\">{errors.phone.message}</p>}\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}\r\n                    className=\"mt-6 w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl transition duration-300\"\r\n                >\r\n                    {isSubmitting ? 'Booking...' : 'Confirm Booking'}\r\n                </button>\r\n            </form>\r\n        </motion.div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}