{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Abdalmoute/OneDrive/Desktop/unijoy-events/frontend/app/%28auth%29/events/%5BeventId%5D/register/page.tsx"],"sourcesContent":["'use client';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { useForm } from 'react-hook-form';\r\nimport { z } from 'zod';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { motion } from 'framer-motion';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\nconst registerSchema = z.object({\r\n  fullName: z.string().min(3, 'Name must be at least 3 characters'),\r\n  email: z.string().email('Invalid email address'),\r\n  phone: z.string().min(10, 'Phone number is too short'),\r\n});\r\n\r\ntype RegisterFormData = z.infer<typeof registerSchema>;\r\n\r\nexport default function RegisterPage() {\r\n  const { toast } = useToast();\r\n  const { eventId } = useParams();\r\n  const router = useRouter();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm<RegisterFormData>({\r\n    resolver: zodResolver(registerSchema),\r\n  });\r\n\r\n  const onSubmit = async (values: RegisterFormData) => {\r\n    try {\r\n      const res = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/users/me/events/${eventId}/register`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify({ ...values, eventId }),\r\n        }\r\n      );\r\n      toast({\r\n        title: 'register Successful',\r\n        description: 'You have been register in successfully',\r\n        duration: 3000,\r\n        className: 'bg-green-600 text-white border-0',\r\n      });\r\n      router.push(`/user/events`);\r\n    } catch (error: any) {\r\n      toast({\r\n        title: 'register Failed',\r\n        description: error.message,\r\n        className: 'bg-red-500 text-white border-0',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className='min-h-screen flex items-center justify-center bg-gradient-to-tr from-purple-100 to-white py-10 px-4'\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n    >\r\n      <form\r\n        onSubmit={handleSubmit(onSubmit)}\r\n        className='bg-white p-8 rounded-2xl shadow-xl w-full max-w-md'\r\n      >\r\n        <h2 className='text-2xl font-bold text-center text-purple-700 mb-6'>\r\n          Register Your Spot\r\n        </h2>\r\n\r\n        <div className='space-y-4'>\r\n          <div>\r\n            <label className='block font-medium'>Full Name</label>\r\n            <input\r\n              type='text'\r\n              {...register('fullName')}\r\n              className='w-full border border-gray-300 rounded-xl px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-purple-300'\r\n            />\r\n            {errors.fullName && (\r\n              <p className='text-red-500 text-sm'>{errors.fullName.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className='block font-medium'>Email</label>\r\n            <input\r\n              type='email'\r\n              {...register('email')}\r\n              className='w-full border border-gray-300 rounded-xl px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-purple-300'\r\n            />\r\n            {errors.email && (\r\n              <p className='text-red-500 text-sm'>{errors.email.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className='block font-medium'>Phone</label>\r\n            <input\r\n              type='text'\r\n              {...register('phone')}\r\n              className='w-full border border-gray-300 rounded-xl px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-purple-300'\r\n            />\r\n            {errors.phone && (\r\n              <p className='text-red-500 text-sm'>{errors.phone.message}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type='submit'\r\n          disabled={isSubmitting}\r\n          className='mt-6 w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl transition duration-300'\r\n        >\r\n          {isSubmitting ? 'Register...' : 'Confirm Register'}\r\n        </button>\r\n      </form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}